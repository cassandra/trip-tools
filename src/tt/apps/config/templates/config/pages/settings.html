{% extends "user/pages/account_base.html" %}

{% block account_content %}
<div id="{{ attr_page_context.container_html_id }}" 
     class="{{ TtConst.ATTR_CONTAINER_CLASS }}"> 

  <div class="{{ TtConst.ATTR_FORM_CLASS }}">
    <form id="{{ attr_page_context.form_html_id }}"
          action="{% if selected_subsystem_id %}{% url 'config_settings' subsystem_id=selected_subsystem_id %}{% else %}{% url 'config_settings' %}{% endif %}" 
          method="post" 
          class="{{ TtConst.ATTR_FORM_CLASS }} form">
      {% csrf_token %}
      
      <!-- Main content wrapper for updates -->
      <div id="{{ attr_page_context.content_html_id }}" 
           class="attr-content">
        {% include "config/components/subsystem_edit_content_body.html" %}
      </div>
    </form>
  </div>
  
</div>

<script>
// Initialize this specific container (for async-loaded content)
if (window.Tt && window.Tt.attr && window.Tt.attr.initializeContainer) {
    window.Tt.attr.initializeContainer('#{{ attr_page_context.container_html_id }}');
}
</script>

{% endblock %}
