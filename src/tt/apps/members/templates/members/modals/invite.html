{% extends "modals/action_2_with_cancel.html" %}
{% load static %}

{% block modal_dialog_id %}member-invite-modal{% endblock %}

{% block title_text %}Invite Member{% endblock %}

{% block preamble %}
<form method="post" action="{% url 'members_invite' trip_id=trip.pk %}" data-async="modal">
  {% csrf_token %}
{% endblock %}

{% block body %}
<div class="mb-3">
  <label for="{{ form.email.id_for_label }}" class="form-label">Email Address</label>
  {{ form.email }}
  {% if form.email.errors %}
    <div class="invalid-feedback d-block">
      {{ form.email.errors.0 }}
    </div>
  {% endif %}
  <div class="form-text">
    Enter the email address of the person you want to invite. If they don't have an account, one will be created for them.
  </div>
</div>

<div class="mb-3">
  <label for="{{ form.permission_level.id_for_label }}" class="form-label">Permission Level</label>
  {{ form.permission_level }}
  {% if form.permission_level.errors %}
    <div class="invalid-feedback d-block">
      {{ form.permission_level.errors.0 }}
    </div>
  {% endif %}
  <div class="form-text">
    <strong>Owner:</strong> Full control including deletion<br>
    <strong>Admin:</strong> Can manage members and edit content<br>
    <strong>Editor:</strong> Can edit trip content<br>
    <strong>Viewer:</strong> Can view trip content only
  </div>
</div>

{% if form.non_field_errors %}
  <div class="alert alert-danger">
    {{ form.non_field_errors.0 }}
  </div>
{% endif %}
{% endblock %}

{% block action_right %}
<button type="submit" class="btn btn-primary">SEND INVITATION</button>
{% endblock %}

{% block postamble %}
</form>
{% endblock %}
