{% load icons %}
{% comment %}
Reusable component for displaying a reference image with optional edit capability.

Parameters:
- image: TripImage instance or None
- edit_url: URL for the image picker modal
- height: CSS height value (e.g., "120px", "2.5rem")
- show_edit_icon: Boolean - whether to show edit functionality (default: False)
- placeholder_icon: Icon name for placeholder (default: "camera")
- container_class: Additional CSS classes for container
{% endcomment %}

{% if show_edit_icon %}
<a href="{{ edit_url }}"
   data-async="modal"
   class="d-block {{ container_class|default:'' }}"
   style="cursor: pointer; height: {{ height|default:'120px' }};"
   title="Click to change reference image">
{% else %}
<div class="d-block {{ container_class|default:'' }}"
     style="height: {{ height|default:'120px' }};">
{% endif %}

  {% if image and image.thumbnail_image %}
  <img src="{{ image.thumbnail_image.url }}"
       alt="{{ image.caption|default:'Reference' }}"
       class="img-fluid w-100"
       style="object-fit: cover; height: 100%;">
  {% else %}
  <div class="bg-light d-flex align-items-center justify-content-center text-muted border-right"
       style="height: 100%;">
    {% icon placeholder_icon|default:"camera" size="lg" %}
  </div>
  {% endif %}

{% if show_edit_icon %}
</a>
{% else %}
</div>
{% endif %}
