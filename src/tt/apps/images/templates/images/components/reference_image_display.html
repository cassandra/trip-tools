{% load icons static %}
{% comment %}
Unified component for displaying a reference image.

Parameters:
- image: TripImage instance or None
- size: "xs", "sm", "md", "lg", or "responsive" (default: "md")
- editable: Boolean - shows edit indicator on placeholder (default: False)
- placeholder_image: Static image path (e.g., "img/tt-icon-196x196.png")
                     If not provided, shows camera icon.

Click behavior should be handled by wrapping this component in a link.
{% endcomment %}

<div class="ref-image-display ref-image-display--{{ size|default:'md' }}">
  {% if image and image.thumbnail_image %}
  <img src="{{ image.thumbnail_image.url }}"
       alt="{{ image.caption|default:'Reference' }}"
       class="ref-image-display__image">
  {% else %}
  <div class="ref-image-display__placeholder{% if editable %} ref-image-display__placeholder--editable{% endif %}">
    {% if placeholder_image %}
    <img src="{% static placeholder_image %}" alt="Placeholder" class="ref-image-display__placeholder-image">
    {% else %}
    {% icon "camera" size="lg" %}
    {% endif %}
    {% if editable %}
    <span class="ref-image-display__edit-indicator">{% icon "edit" size="sm" %}</span>
    {% endif %}
  </div>
  {% endif %}
</div>
