{% load icons %}

<div class="card mb-3">
  <div class="row no-gutters">
    <div class="col-3 col-md-2" id="journal-reference-image-container">
      <a href="{% url 'journal_reference_image_picker' journal_uuid=journal.uuid %}" data-async="modal" title="Click to change reference image">
        {% include "images/components/reference_image_display.html" with image=journal.reference_image size="md" editable=True %}
      </a>
    </div>

    <div class="col-9 col-md-10">
      <div class="card-body bg-white">
        <div class="d-flex w-100 align-items-start mb-2">
          <h3 class="mb-0 mr-2">{{ journal.title }}</h3>
          <a href="{% url 'journal_edit' journal_uuid=journal.uuid %}"
             data-async="modal"
             class="text-muted"
             style="opacity: 0.6; transition: opacity 0.2s;"
             onmouseover="this.style.opacity='1'"
             onmouseout="this.style.opacity='0.6'"
             title="Edit journal title and description"
             {% if not trip_page.request_member.can_edit_trip %}style="display:none;"{% endif %}>
            {% icon "edit" size="sm" %}
          </a>
        </div>
        {% if journal.description %}
        <p class="text-muted mb-2">{{ journal.description }}</p>
        {% endif %}
        <div class="d-flex align-items-center flex-wrap">
          <small class="text-muted mr-3">
            {% icon "globe" size="sm" css_class="tt-icon-left" %}
            Timezone: {{ journal.timezone }}
          </small>
          <small class="text-muted">
            {% icon "clock" size="sm" css_class="tt-icon-left" %}
            Created {{ journal.created_datetime|date:"N j, Y" }}
          </small>
        </div>
      </div>
    </div>
  </div>
</div>
