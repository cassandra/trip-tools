{% load static %}
{% load icons %}

<!-- Panel Header - Fixed -->
<div class="{{ DIVID.JOURNAL_EDITOR_MULTI_IMAGE_PANEL_HEADER_CLASS }}">
  <div class="d-flex justify-content-between align-items-center mb-2">
    <h5 class="mb-0">Images</h5>
    <a href="{% url 'journal_editor_multi_image_upload' entry_uuid=entry.uuid %}"
       class="btn btn-sm btn-outline-primary"
       data-async="modal">
      {% icon "upload" size="sm" css_class="tt-icon-left" %}
      Upload
    </a>
  </div>

  <!-- Date and Scope Filter Form -->
  <form method="get" action="{% url 'journal_editor_multi_images' entry_uuid=entry.uuid %}" data-async="#journal-editor-multi-image-gallery" data-mode="insert">
    <!-- Date Filter -->
    <input
        type="date"
        class="form-control form-control-sm mb-2"
        id="id_image_date_filter"
        name="date"
        value="{{ entry.date|date:'Y-m-d' }}"
        onchange-async="true"
    >

    <!-- Scope Filter Pills (client-side filtering only) -->
    <div class="btn-group btn-group-sm btn-group-toggle w-100" data-toggle="buttons">
      <label class="btn btn-outline-secondary active">
        <input type="radio" name="scope" value="unused" checked> Unused
      </label>
      <label class="btn btn-outline-secondary">
        <input type="radio" name="scope" value="used"> Used
      </label>
      <label class="btn btn-outline-secondary">
        <input type="radio" name="scope" value="all"> All
      </label>
    </div>
  </form>
</div>

<!-- Image Gallery Grid - Scrollable -->
<div class="journal-editor-multi-image-gallery" id="journal-editor-multi-image-gallery">
  {% include "journal/components/journal_editor_multi_image_gallery_grid.html" with accessible_images=accessible_images trip=trip %}
</div>
