<div class="journal-editor-container">
  <!-- ContentEditable Editor -->
  <div
    class="{{ DIVID.JOURNAL_EDITOR_CLASS }}"
    id="{{ DIVID.JOURNAL_EDITOR_ID }}"
    contenteditable="true"
    data-{{ DIVID.JOURNAL_ENTRY_PK_ATTR }}="{{ entry.pk }}"
    data-{{ DIVID.JOURNAL_CURRENT_VERSION_ATTR }}="{{ entry.edit_version }}"
    data-{{ DIVID.JOURNAL_AUTOSAVE_URL_ATTR }}="{% url 'journal_entry_autosave' trip_id=trip.id entry_pk=entry.pk %}"
    data-placeholder="Start writing your journal entry..."
    role="textbox"
    aria-label="Journal entry content"
    aria-multiline="true"
  >{{ entry.text|safe }}</div>

  <!-- Mobile Warning (shown below 768px) -->
  <div class="journal-editor-mobile-warning d-md-none">
    <div class="alert alert-warning mb-0">
      <strong>Desktop Mode Recommended</strong>
      <p class="mb-0 small">For the best editing experience with image management, please use a larger screen (768px or wider).</p>
    </div>
  </div>

  <!-- Hidden textarea for form fallback (non-JS) -->
  <textarea class="d-none" name="text" id="{{ DIVID.JOURNAL_EDITOR_ID }}_fallback">{{ entry.text }}</textarea>
</div>
