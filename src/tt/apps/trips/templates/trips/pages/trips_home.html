{% extends "pages/feature_page.html" %}
{% load icons %}

{% block main_content %}
<div class="m-3">
  <!-- Current Trips Section (no heading) -->
  {% if current_trips %}
  <section class="">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="h3 mb-0">Current Trips</h2>
      <a href="{% url 'trips_trip_create' %}" class="btn btn-primary" data-async="modal">+ Add New Trip</a>
    </div>

    {% include "trips/components/trip-cards-grid.html" with trips=current_trips icon_type="upcoming" %}
  </section>
  {% else %}
  <!-- No current trips alert -->
  <section class="">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div></div> <!-- Empty space where heading would be -->
      <a href="{% url 'trips_trip_create' %}" class="btn btn-primary" data-async="modal">+ Add New Trip</a>
    </div>

    <div class="alert alert-info py-2 mb-3" role="alert">
      <div class="d-flex align-items-center">
        {% icon "info-circle" size="sm" %}
        <span>No current trips. <a href="{% url 'trips_trip_create' %}" class="alert-link" data-async="modal">Add a trip</a> to get started!</span>
      </div>
    </div>
  </section>
  {% endif %}

  <!-- Shared Trips Section -->
  {% if shared_trips %}
  <section class="mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="h3 mb-0">Shared Trips</h2>
    </div>
    {% include "trips/components/trip-cards-grid.html" with trips=shared_trips icon_type="upcoming" card_size="small" %}
  </section>
  {% endif %}

  <!-- Past Trips Section -->
  {% if past_trips %}
  <section class="mt-4">
    <h2 class="h3 mb-3">Past Trips</h2>
    {% include "trips/components/trip-cards-grid.html" with trips=past_trips icon_type="past" %}
  </section>
  {% endif %}
</div>
{% endblock %}
