{% extends "pages/base.html" %}
{% load static %}

{% block head_css %}
<style>
/* Carousel - external arrows require custom positioning */
.tt-carousel-wrap {
  max-width: 560px;
  position: relative;
  padding: 0 3rem;
}

.tt-carousel .carousel-inner {
  box-shadow: 0 6px 24px rgba(0,0,0,0.15);
}

.tt-carousel .carousel-caption {
  background: rgba(0,0,0,0.6);
  bottom: 0.75rem;
  left: 50%;
  right: auto;
  transform: translateX(-50%);
  width: auto;
  max-width: 90%;
}

.tt-carousel .carousel-control-prev,
.tt-carousel .carousel-control-next {
  width: 2.5rem;
  height: 2.5rem;
  top: 50%;
  transform: translateY(-50%);
  opacity: 1;
  background-color: var(--secondary-color);
  border-radius: 50%;
}

.tt-carousel .carousel-control-prev { left: -3rem; }
.tt-carousel .carousel-control-next { right: -3rem; }

.tt-carousel .carousel-control-prev:hover,
.tt-carousel .carousel-control-next:hover {
  background-color: var(--secondary-highlight-color);
}

.tt-carousel .carousel-control-prev-icon,
.tt-carousel .carousel-control-next-icon {
  width: 1rem;
  height: 1rem;
}

.tt-carousel .carousel-indicators {
  bottom: -2rem;
}

.tt-carousel .carousel-indicators li {
  background-color: var(--muted-color);
  width: 10px;
  height: 10px;
  border-radius: 50%;
  margin: 0 4px;
}

.tt-carousel .carousel-indicators li.active {
  background-color: var(--primary-color);
}

/* Feature accent border */
.tt-feature-accent {
  border-left: 3px solid var(--secondary-color);
}

/* Responsive carousel */
@media (max-width: 768px) {
  .tt-carousel-wrap {
    max-width: 480px;
    padding: 0 2.5rem;
  }
  .tt-carousel .carousel-control-prev,
  .tt-carousel .carousel-control-next {
    width: 2rem;
    height: 2rem;
  }
  .tt-carousel .carousel-control-prev { left: -2.5rem; }
  .tt-carousel .carousel-control-next { right: -2.5rem; }
}

@media (max-width: 480px) {
  .tt-carousel-wrap {
    max-width: 100%;
    padding: 0 2rem;
  }
  .tt-carousel .carousel-control-prev,
  .tt-carousel .carousel-control-next {
    width: 1.75rem;
    height: 1.75rem;
  }
  .tt-carousel .carousel-control-prev { left: -2rem; }
  .tt-carousel .carousel-control-next { right: -2rem; }
  .tt-carousel .carousel-control-prev-icon,
  .tt-carousel .carousel-control-next-icon {
    width: 0.75rem;
    height: 0.75rem;
  }
  .tt-carousel .carousel-caption { display: none; }
}
</style>
{% endblock %}

{% block content %}
<div class="container" style="max-width: 1000px;">

  <!-- Hero Section -->
  <div class="text-center my-3">
    <img src="{% static 'img/tt-logo-467x200.png' %}" alt="Trip Tools" class="mb-2" style="max-height: 70px;">
    <p class="lead text-muted mb-4"><span class="font-weight-bold text-primary">Trip Tools:</span> Your entire trip, one place. Open source.</p>

    <!-- Value Proposition -->
    <div class="bg-light rounded text-center my-3">
      <p class="mb-0" style="font-size: 1.1rem; line-height: 1.6;">
        Planning in one app. Bookings in another. Itinerary in a spreadsheet. Photos everywhere.
        <strong>Trip Tools brings it all together</strong> - from first research to final photo album.
      </p>
    </div>

    <!-- Screenshot Carousel -->
    <div class="tt-carousel-wrap mx-auto py-3">
      <div id="homeCarousel" class="carousel slide tt-carousel" data-ride="carousel" data-interval="5000">
        <ol class="carousel-indicators">
          <li data-target="#homeCarousel" data-slide-to="0" class="active"></li>
          <li data-target="#homeCarousel" data-slide-to="1"></li>
          <li data-target="#homeCarousel" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner rounded">
          <div class="carousel-item active">
            <img src="{% static 'img/home/journal-home.png' %}" alt="Journal Page" class="d-block w-100">
            <div class="carousel-caption rounded px-2 py-1">
              <p class="mb-0 small">Organize your journal entries by date</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="{% static 'img/home/journal-editor.png' %}" alt="Journal Editor" class="d-block w-100">
            <div class="carousel-caption rounded px-2 py-1">
              <p class="mb-0 small">Write with a rich text editor and drag-drop images</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="{% static 'img/home/published-travelog.png' %}" alt="Published Travelog" class="d-block w-100">
            <div class="carousel-caption rounded px-2 py-1">
              <p class="mb-0 small">Publish as a beautiful travelog to share</p>
            </div>
          </div>
        </div>
        <a class="carousel-control-prev" href="#homeCarousel" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#homeCarousel" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>

    <div class="my-3">
      {% if user.is_authenticated %}
      <a href="{% url 'dashboard_home' %}" class="btn btn-primary btn-lg px-5">Go to Dashboard</a>
      {% else %}
      <a href="{% url 'user_signin' %}" class="btn btn-primary btn-lg px-5">Sign In</a>
      {% endif %}
    </div>
    <p class="small text-muted font-italic">Currently in early access (invite only)</p>
  </div>

  <!-- Journal Feature Section -->
  <div class="py-4 border-top">
    <h2 class="text-primary mb-3">Available Now: Journal &amp; Travelog</h2>

    <p>
      We're starting with post-trip journaling - because that's where your memories live.
      Write rich travel journals, add photos, then publish beautiful travelogs to share.
    </p>

    <div class="row mt-4">
      <div class="col-md-6 col-lg-4 mb-3">
        <div class="bg-light rounded p-3 h-100 tt-feature-accent">
          <strong class="text-primary">Rich text editor</strong> with drag-and-drop images
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-3">
        <div class="bg-light rounded p-3 h-100 tt-feature-accent">
          <strong class="text-primary">Auto-save</strong> with conflict detection
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-3">
        <div class="bg-light rounded p-3 h-100 tt-feature-accent">
          <strong class="text-primary">Flexible publishing</strong> - private, protected, or public
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-3">
        <div class="bg-light rounded p-3 h-100 tt-feature-accent">
          <strong class="text-primary">6 color themes</strong> for your travelog
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-3">
        <div class="bg-light rounded p-3 h-100 tt-feature-accent">
          <strong class="text-primary">Version history</strong> with restore capability
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-3">
        <div class="bg-light rounded p-3 h-100 tt-feature-accent">
          <strong class="text-primary">Image management</strong> with EXIF metadata
        </div>
      </div>
    </div>
  </div>

  <!-- The Story Section -->
  <div class="py-4 border-top">
    <h2 class="text-primary mb-3">Why We're Building This</h2>

    <p>
      A trip isn't just planning, or booking, or sharing photos. It's all of these things, connected.
      But existing tools force you to juggle multiple apps, cut and paste between them, and somehow
      keep everything in sync.
    </p>

    <p>
      Trip Tools takes a different approach: <strong>one place for your entire trip lifecycle</strong>.
      Research and planning. Comparing options. Managing bookings and itineraries. Capturing memories.
      Writing and sharing your travel journal. All connected.
    </p>

    <p>
      We're building this open source because travel tools should work for travelers, not for ad revenue.
    </p>
  </div>

  <!-- Coming Soon Section -->
  <div class="py-4 border-top">
    <h2 class="text-primary mb-3">Where We're Headed</h2>

    <p>
      The Journal is just the beginning. We're building toward complete trip management:
    </p>

    <div class="alert alert-info mt-3">
      <h5 class="alert-heading">Coming Soon</h5>
      <ul class="mb-0 pl-3">
        <li><strong>Planning</strong> - Compare options for lodging, transportation, activities</li>
        <li><strong>Locations</strong> - Organize places with maps and rich details</li>
        <li><strong>Itineraries</strong> - Day-by-day schedules linked to locations and bookings</li>
        <li><strong>Bookings</strong> - Track reservations, expenses, and shared costs</li>
        <li><strong>Reviews</strong> - Capture thoughts on places you visit</li>
      </ul>
    </div>
  </div>

  <!-- Contributing Section -->
  <div class="py-4 border-top">
    <h2 class="text-primary mb-3">Early Access &amp; Contributing</h2>

    <p>
      Trip Tools is in early development. We're invite-only while building core features
      and ensuring stability for early users.
    </p>

    <p>
      This is an open source project. We welcome contributors - whether you write code,
      improve design, or share feedback on what would make this useful for your trips.
    </p>

    <div class="card border-primary mt-3">
      <div class="card-body text-center">
        <h5 class="card-title text-primary">Want to Help Build This?</h5>
        <p class="card-text">
          Check out the project on GitHub for the roadmap, issues, and contribution guide.
        </p>
        <a href="https://github.com/cassandra/trip-tools" class="btn btn-secondary" target="_blank" rel="noopener">
          View on GitHub
        </a>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="text-center py-4 border-top text-muted small">
    <p class="mb-0">
      <a href="https://github.com/cassandra/trip-tools" target="_blank" rel="noopener">GitHub</a>
      &nbsp;&middot;&nbsp;
      Open Source (MIT License)
    </p>
  </div>

</div>
{% endblock %}
